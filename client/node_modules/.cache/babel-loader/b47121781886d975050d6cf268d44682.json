{"ast":null,"code":"var _jsxFileName = \"/Users/Juliana/Projects/secret_santa_app/client/src/registration.js\";\nimport { Component } from \"react\";\nimport { TextField, Button, Stack, Alert } from '@mui/material';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class Registration extends Component {\n  constructor() {\n    super();\n    this.state = {};\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n  handleChange(e) {\n    this.setState({\n      [e.target.name]: e.target.value\n    }, () => console.log(this.state));\n  }\n  handleSubmit(evt) {\n    evt.preventDefault();\n    this.setState({\n      alert: false\n    });\n    const {\n      name,\n      email,\n      password,\n      confirmPassword\n    } = this.state;\n    if (name && email && password && confirmPassword) {\n      if (this.state.password === this.state.confirmPassword) {\n        const body = {\n          name: name,\n          email: email,\n          password: password\n        };\n        const bodyJson = JSON.stringify(body);\n        fetch(\"/api/register\", {\n          method: \"POST\",\n          body: bodyJson,\n          headers: {\n            \"Content-Type\": \"application/json\"\n          }\n        }).then(res => res.json()).then(result => {\n          console.log(\"result fetch REGISTRATION\", result);\n          if (result.success === true) {\n            // eslint-disable-next-line no-restricted-globals\n            location.reload();\n            console.log(\"REGISTERED\");\n            return;\n          }\n          if (result.error === \"email\") {\n            this.setState({\n              error: \"Email already registered.Please log in\",\n              alert: \"warning\"\n            });\n            return;\n          }\n          if (result.error === \"others\") {\n            this.setState({\n              error: \"Ops, something went wrong! Please try again\",\n              alert: \"error\"\n            });\n            return;\n          }\n          return;\n        }).catch(err => {\n          console.log(err);\n          this.setState({\n            error: \"Ops, something went wrong! Please try again\",\n            alert: \"error\"\n          }\n          // () => console.log(this.state)\n          );\n        });\n      } else {\n        console.log(\"different password\");\n        this.setState({\n          error: \"Ops,password doesn't match\",\n          alert: \"warning\"\n        }\n        // () => console.log(this.state)\n        );\n      }\n    } else {\n      console.log(\"missing field\");\n      this.setState({\n        error: \"Please fill out all required fields before submitting\",\n        alert: \"warning\"\n      }\n      // () => console.log(this.state)\n      );\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(Stack, {\n      spacing: 2,\n      direction: \"column\",\n      children: [/*#__PURE__*/_jsxDEV(TextField, {\n        required: true,\n        id: \"outlined-required\",\n        label: \"Name\",\n        name: \"name\",\n        onChange: this.handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TextField, {\n        required: true,\n        id: \"outlined-required\",\n        label: \"E-Mail\",\n        type: \"email\",\n        name: \"email\",\n        onChange: this.handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TextField, {\n        id: \"outlined-password-input\",\n        label: \"Password\",\n        type: \"password\",\n        name: \"password\",\n        onChange: this.handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TextField, {\n        id: \"outlined-password-input\",\n        label: \"Confirm Password\",\n        type: \"password\",\n        name: \"confirmPassword\",\n        onChange: this.handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"contained\",\n        size: \"small\",\n        onClick: this.handleSubmit,\n        children: \"Register\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 9\n      }, this), this.state.alert && /*#__PURE__*/_jsxDEV(Alert, {\n        severity: this.state.alert,\n        children: this.state.error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 30\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 19\n    }, this);\n  }\n}","map":{"version":3,"names":["Component","TextField","Button","Stack","Alert","Registration","constructor","state","handleChange","bind","handleSubmit","e","setState","target","name","value","console","log","evt","preventDefault","alert","email","password","confirmPassword","body","bodyJson","JSON","stringify","fetch","method","headers","then","res","json","result","success","location","reload","error","catch","err","render"],"sources":["/Users/Juliana/Projects/secret_santa_app/client/src/registration.js"],"sourcesContent":["import { Component } from \"react\";\nimport {TextField, Button, Stack, Alert} from '@mui/material';\n\n\nexport default class Registration extends Component {\n    constructor() {\n        super();\n        this.state = {};\n        this.handleChange = this.handleChange.bind(this);\n        this.handleSubmit = this.handleSubmit.bind(this);\n    }\n\n    handleChange(e) {\n        this.setState(\n            {\n                [e.target.name]: e.target.value,\n            },\n            () => console.log(this.state)\n        );\n    }\n\n    handleSubmit(evt) {\n        evt.preventDefault();\n\n        this.setState(\n            {\n                alert: false\n            })\n    \n        const { name, email, password, confirmPassword } = this.state;\n        if (name && email && password && confirmPassword) {\n            if (this.state.password === this.state.confirmPassword) {\n                const body = {\n                    name: name,\n                    email: email,\n                    password: password,\n                };\n                const bodyJson = JSON.stringify(body);\n\n                fetch(\"/api/register\", {\n                    method: \"POST\",\n                    body: bodyJson,\n                    headers: {\n                        \"Content-Type\": \"application/json\",\n                    },\n                })\n                    .then((res) => res.json())\n                    .then((result) => {\n                        console.log(\"result fetch REGISTRATION\", result);\n                        if (result.success === true) {\n                            // eslint-disable-next-line no-restricted-globals\n                            location.reload();\n                          console.log(\"REGISTERED\")\n                            return;\n                        }\n                        if (result.error === \"email\") {\n                            this.setState({\n                                error: \"Email already registered.Please log in\",\n                                alert: \"warning\"\n                            });\n                            return;\n                        }\n\n                        if (result.error === \"others\") {\n                            this.setState({\n                                error: \"Ops, something went wrong! Please try again\",\n                                alert: \"error\"\n                            });\n                            return;\n                        }\n\n                        return;\n                    })\n                    .catch((err) => {\n                        console.log(err);\n                        this.setState(\n                            {\n                                error: \"Ops, something went wrong! Please try again\",\n                                alert:\"error\"\n                            }\n                            // () => console.log(this.state)\n                        );\n                    });\n            } else {\n                console.log(\"different password\");\n\n                this.setState(\n                    {\n                        error: \"Ops,password doesn't match\",\n                        alert:\"warning\"\n                    }\n                    // () => console.log(this.state)\n                );\n            }\n        } else {\n            console.log(\"missing field\");\n            this.setState(\n                {\n                    error: \"Please fill out all required fields before submitting\",\n                    alert: \"warning\"\n                }\n                // () => console.log(this.state)\n            );\n        }\n    }\n\n    render() {\n        return (  <Stack spacing={2} direction=\"column\">\n        <TextField required id=\"outlined-required\" label=\"Name\" name=\"name\" onChange={this.handleChange}/>\n        <TextField required id=\"outlined-required\" label=\"E-Mail\" type=\"email\" name=\"email\" onChange={this.handleChange}/>\n        <TextField id=\"outlined-password-input\" label=\"Password\" type=\"password\" name=\"password\" onChange={this.handleChange}/>\n        <TextField id=\"outlined-password-input\" label=\"Confirm Password\" type=\"password\" name=\"confirmPassword\" onChange={this.handleChange}/>\n        <Button variant=\"contained\" size=\"small\" onClick={this.handleSubmit} >Register</Button>\n        {this.state.alert && <Alert severity={this.state.alert}>{this.state.error}</Alert>}\n    </Stack>);\n    }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}