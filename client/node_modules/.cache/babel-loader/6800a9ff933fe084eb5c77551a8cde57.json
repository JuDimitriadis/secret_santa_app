{"ast":null,"code":"var _jsxFileName = \"/Users/Juliana/Projects/secret_santa_app/client/src/registration.js\";\nimport { Component } from \"react\";\nimport { TextField, Button, Stack } from '@mui/material';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class Registration extends Component {\n  constructor() {\n    super();\n    this.state = {};\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n  handleChange(e) {\n    this.setState({\n      [e.target.name]: e.target.value\n    }, () => console.log(this.state));\n  }\n  handleSubmit(evt) {\n    evt.preventDefault();\n    console.log(\"USER TRIED TO SUBMIT\");\n    const {\n      first,\n      last,\n      email,\n      password,\n      confirmPassword\n    } = this.state;\n    if (first && last && email && password && confirmPassword) {\n      if (this.state.password === this.state.confirmPassword) {\n        const body = {\n          first: first,\n          last: last,\n          email: email,\n          password: password\n        };\n        const bodyJson = JSON.stringify(body);\n        fetch(\"/api/register\", {\n          method: \"POST\",\n          body: bodyJson,\n          headers: {\n            \"Content-Type\": \"application/json\"\n          }\n        }).then(res => res.json()).then(result => {\n          console.log(\"result fetch REGISTRATION\", result);\n          if (result.success === true) {\n            history.pushState({}, \"\", \"/\");\n            location.reload();\n            return;\n          }\n          if (result.error === \"email\") {\n            this.setState({\n              error: \"Email already registered.Please log in\"\n            });\n            return;\n          }\n          if (result.error === \"others\") {\n            this.setState({\n              error: \"Ops, somenthig went wrong! Please try again\"\n            });\n            return;\n          }\n          return;\n        }).catch(err => {\n          console.log(err);\n          this.setState({\n            error: \"Ops, somenthig went wrong! Please try again\"\n          }\n          // () => console.log(this.state)\n          );\n        });\n      } else {\n        console.log(\"diferent password\");\n        this.setState({\n          error: \"Ops,password doesn't match\"\n        }\n        // () => console.log(this.state)\n        );\n      }\n    } else {\n      console.log(\"missing field\");\n      this.setState({\n        error: \"Please fill out all required fields before submitting\"\n      }\n      // () => console.log(this.state)\n      );\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(Stack, {\n      spacing: 2,\n      direction: \"column\",\n      children: [/*#__PURE__*/_jsxDEV(TextField, {\n        required: true,\n        id: \"outlined-required\",\n        label: \"Name\",\n        onChange: this.handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TextField, {\n        required: true,\n        id: \"outlined-required\",\n        label: \"E-Mail\",\n        type: \"email\",\n        onChange: this.handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TextField, {\n        id: \"outlined-password-input\",\n        label: \"Password\",\n        type: \"password\",\n        autoComplete: \"current-password\",\n        onChange: this.handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"contained\",\n        size: \"small\",\n        children: \"Register\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 19\n    }, this);\n  }\n}\n\n// <div className=\"welcomePageForm\">\n//     <h2 className=\"welcomePageFormTittle\">Register here</h2>\n//     <form onSubmit={this.handleSubmit}>\n//         <input\n//             onChange={this.handleChange}\n//             type=\"text\"\n//             name=\"first\"\n//             placeholder=\"First Name\"\n//         />\n//         <input\n//             onChange={this.handleChange}\n//             type=\"text\"\n//             name=\"last\"\n//             placeholder=\"Last Name\"\n//         />\n//         <input\n//             onChange={this.handleChange}\n//             type=\"email\"\n//             name=\"email\"\n//             placeholder=\"Email Address\"\n//         />\n//         <input\n//             onChange={this.handleChange}\n//             type=\"password\"\n//             name=\"password\"\n//             placeholder=\"Password\"\n//         />\n//         <input\n//             onChange={this.handleChange}\n//             type=\"password\"\n//             name=\"confirmPassword\"\n//             placeholder=\"Confirm Password\"\n//         />\n//         <p className=\"error\">{this.state.error}</p>\n//         <button className=\"welcomePageFormButton\">Submit</button>\n//     </form>\n// </div>","map":{"version":3,"names":["Component","TextField","Button","Stack","Registration","constructor","state","handleChange","bind","handleSubmit","e","setState","target","name","value","console","log","evt","preventDefault","first","last","email","password","confirmPassword","body","bodyJson","JSON","stringify","fetch","method","headers","then","res","json","result","success","history","pushState","location","reload","error","catch","err","render"],"sources":["/Users/Juliana/Projects/secret_santa_app/client/src/registration.js"],"sourcesContent":["import { Component } from \"react\";\nimport {TextField, Button, Stack} from '@mui/material';\n\nexport default class Registration extends Component {\n    constructor() {\n        super();\n        this.state = {};\n\n        this.handleChange = this.handleChange.bind(this);\n        this.handleSubmit = this.handleSubmit.bind(this);\n    }\n\n    handleChange(e) {\n        this.setState(\n            {\n                [e.target.name]: e.target.value,\n            },\n            () => console.log(this.state)\n        );\n    }\n\n    handleSubmit(evt) {\n        evt.preventDefault();\n\n        console.log(\"USER TRIED TO SUBMIT\");\n        const { first, last, email, password, confirmPassword } = this.state;\n        if (first && last && email && password && confirmPassword) {\n            if (this.state.password === this.state.confirmPassword) {\n                const body = {\n                    first: first,\n                    last: last,\n                    email: email,\n                    password: password,\n                };\n                const bodyJson = JSON.stringify(body);\n\n                fetch(\"/api/register\", {\n                    method: \"POST\",\n                    body: bodyJson,\n                    headers: {\n                        \"Content-Type\": \"application/json\",\n                    },\n                })\n                    .then((res) => res.json())\n                    .then((result) => {\n                        console.log(\"result fetch REGISTRATION\", result);\n                        if (result.success === true) {\n                            history.pushState({}, \"\", \"/\");\n                            location.reload();\n                            return;\n                        }\n                        if (result.error === \"email\") {\n                            this.setState({\n                                error: \"Email already registered.Please log in\",\n                            });\n                            return;\n                        }\n\n                        if (result.error === \"others\") {\n                            this.setState({\n                                error: \"Ops, somenthig went wrong! Please try again\",\n                            });\n                            return;\n                        }\n\n                        return;\n                    })\n                    .catch((err) => {\n                        console.log(err);\n                        this.setState(\n                            {\n                                error: \"Ops, somenthig went wrong! Please try again\",\n                            }\n                            // () => console.log(this.state)\n                        );\n                    });\n            } else {\n                console.log(\"diferent password\");\n\n                this.setState(\n                    {\n                        error: \"Ops,password doesn't match\",\n                    }\n                    // () => console.log(this.state)\n                );\n            }\n        } else {\n            console.log(\"missing field\");\n            this.setState(\n                {\n                    error: \"Please fill out all required fields before submitting\",\n                }\n                // () => console.log(this.state)\n            );\n        }\n    }\n\n    render() {\n        return (  <Stack spacing={2} direction=\"column\">\n        <TextField required id=\"outlined-required\" label=\"Name\" onChange={this.handleChange}/>\n        <TextField required id=\"outlined-required\" label=\"E-Mail\" type=\"email\" onChange={this.handleChange}/>\n        <TextField id=\"outlined-password-input\" label=\"Password\" type=\"password\" autoComplete=\"current-password\" onChange={this.handleChange}/>\n        <Button variant=\"contained\" size=\"small\" >Register</Button>\n    </Stack>);\n    }\n}\n\n// <div className=\"welcomePageForm\">\n            //     <h2 className=\"welcomePageFormTittle\">Register here</h2>\n            //     <form onSubmit={this.handleSubmit}>\n            //         <input\n            //             onChange={this.handleChange}\n            //             type=\"text\"\n            //             name=\"first\"\n            //             placeholder=\"First Name\"\n            //         />\n            //         <input\n            //             onChange={this.handleChange}\n            //             type=\"text\"\n            //             name=\"last\"\n            //             placeholder=\"Last Name\"\n            //         />\n            //         <input\n            //             onChange={this.handleChange}\n            //             type=\"email\"\n            //             name=\"email\"\n            //             placeholder=\"Email Address\"\n            //         />\n            //         <input\n            //             onChange={this.handleChange}\n            //             type=\"password\"\n            //             name=\"password\"\n            //             placeholder=\"Password\"\n            //         />\n            //         <input\n            //             onChange={this.handleChange}\n            //             type=\"password\"\n            //             name=\"confirmPassword\"\n            //             placeholder=\"Confirm Password\"\n            //         />\n            //         <p className=\"error\">{this.state.error}</p>\n            //         <button className=\"welcomePageFormButton\">Submit</button>\n            //     </form>\n            // </div>"],"mappings":"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"},"metadata":{},"sourceType":"module"}