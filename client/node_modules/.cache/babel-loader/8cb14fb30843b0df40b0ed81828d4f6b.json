{"ast":null,"code":"var _jsxFileName = \"/Users/Juliana/Projects/secret_santa_app/client/src/registration.js\";\nimport { Component } from \"react\";\nimport { TextField, Button, Stack, Alert } from '@mui/material';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class Registration extends Component {\n  constructor() {\n    super();\n    this.state = {\n      data: {},\n      placeholder: ''\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n  handleChange(e) {\n    this.setState({\n      data: {\n        [e.target.name]: e.target.value\n      }\n    }, () => console.log(this.state));\n  }\n  async handleSubmit(evt) {\n    evt.preventDefault();\n    this.setState({\n      data: {\n        alert: false\n      }\n    });\n    const {\n      name,\n      email,\n      password,\n      confirmPassword\n    } = this.state;\n    if (name && email && password && confirmPassword) {\n      if (this.state.password === this.state.confirmPassword) {\n        const body = {\n          name: name,\n          email: email,\n          password: password\n        };\n        const bodyJson = JSON.stringify(body);\n        const fetchReq = await fetch(\"/api/register\", {\n          method: \"POST\",\n          body: bodyJson,\n          headers: {\n            \"Content-Type\": \"application/json\"\n          }\n        });\n        const response = await fetchReq.json();\n        if (response.success === true) {\n          // eslint-disable-next-line no-restricted-globals\n          location.reload();\n          return;\n        } else if (response.error === \"email\") {\n          this.setState({\n            data: {\n              error: \"Email already registered.Please log in\",\n              alert: \"warning\"\n            }\n          });\n          return;\n        } else if (response.error === \"others\") {\n          this.setState({\n            error: \"Ops, something went wrong! Please try again\",\n            alert: \"error\"\n          });\n          return;\n        } else {\n          this.setState({\n            error: \"Ops, something went wrong! Please try again\",\n            alert: \"error\"\n          });\n          return;\n        }\n      } else {\n        console.log(\"different password\");\n        this.setState({\n          error: \"Ops,password doesn't match\",\n          alert: \"warning\"\n        }\n        // () => console.log(this.state)\n        );\n      }\n    } else {\n      console.log(\"missing field\");\n      this.setState({\n        error: \"Please fill out all required fields before submitting\",\n        alert: \"warning\"\n      }\n      // () => console.log(this.state)\n      );\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(Stack, {\n      spacing: 2,\n      direction: \"column\",\n      children: [/*#__PURE__*/_jsxDEV(TextField, {\n        required: true,\n        id: \"outlined-required\",\n        label: \"Name\",\n        name: \"name\",\n        onChange: this.handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TextField, {\n        required: true,\n        id: \"outlined-required\",\n        label: \"E-Mail\",\n        type: \"email\",\n        name: \"email\",\n        onChange: this.handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TextField, {\n        id: \"outlined-password-input\",\n        label: \"Password\",\n        type: \"password\",\n        name: \"password\",\n        onChange: this.handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TextField, {\n        id: \"outlined-password-input\",\n        label: \"Confirm Password\",\n        type: \"password\",\n        name: \"confirmPassword\",\n        onChange: this.handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"contained\",\n        size: \"small\",\n        onClick: this.handleSubmit,\n        children: \"Register\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 9\n      }, this), this.state.alert && /*#__PURE__*/_jsxDEV(Alert, {\n        severity: this.state.alert,\n        children: this.state.error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 30\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 19\n    }, this);\n  }\n}","map":{"version":3,"names":["Component","TextField","Button","Stack","Alert","Registration","constructor","state","data","placeholder","handleChange","bind","handleSubmit","e","setState","target","name","value","console","log","evt","preventDefault","alert","email","password","confirmPassword","body","bodyJson","JSON","stringify","fetchReq","fetch","method","headers","response","json","success","location","reload","error","render"],"sources":["/Users/Juliana/Projects/secret_santa_app/client/src/registration.js"],"sourcesContent":["import { Component } from \"react\";\nimport {TextField, Button, Stack, Alert} from '@mui/material';\n\n\nexport default class Registration extends Component {\n    constructor() {\n        super();\n        this.state = {data: {}, placeholder:''};\n\n        this.handleChange = this.handleChange.bind(this);\n        this.handleSubmit = this.handleSubmit.bind(this);\n    }\n\n    handleChange(e) {\n        this.setState({data: {\n            [e.target.name]: e.target.value,\n        }}\n           ,\n            () => console.log(this.state)\n        );\n    }\n\n    async handleSubmit(evt) {\n        evt.preventDefault();\n\n        this.setState({data: {\n            alert: false\n        }}\n            )\n    \n        const { name, email, password, confirmPassword } = this.state;\n        if (name && email && password && confirmPassword) {\n            if (this.state.password === this.state.confirmPassword) {\n                const body = {\n                    name: name,\n                    email: email,\n                    password: password,\n                };\n                const bodyJson = JSON.stringify(body);\n                const fetchReq = await fetch(\"/api/register\", {\n                    method: \"POST\",\n                    body: bodyJson,\n                    headers: {\n                        \"Content-Type\": \"application/json\",\n                    },\n                });\n\n                const response = await fetchReq.json();\n                if (response.success === true) {\n                  \n                     // eslint-disable-next-line no-restricted-globals\n                     location.reload();\n                     return \n                } else if (response.error === \"email\") {\n                    this.setState({data:{\n                        error: \"Email already registered.Please log in\",\n                        alert: \"warning\"\n                    }});\n                    return;\n                } else if (response.error === \"others\") {\n                    this.setState({\n                        error: \"Ops, something went wrong! Please try again\",\n                        alert: \"error\"\n                    });\n                    return;\n                } else {\n                    this.setState({\n                        error: \"Ops, something went wrong! Please try again\",\n                        alert: \"error\"\n                    });\n                    return;\n                }\n            } else {\n                console.log(\"different password\");\n                this.setState(\n                    {\n                        error: \"Ops,password doesn't match\",\n                        alert:\"warning\"\n                    }\n                    // () => console.log(this.state)\n                );\n            }\n        } else {\n            console.log(\"missing field\");\n            this.setState(\n                {\n                    error: \"Please fill out all required fields before submitting\",\n                    alert: \"warning\"\n                }\n                // () => console.log(this.state)\n            );\n        }\n\n}\n\n    render() {\n        return (  <Stack spacing={2} direction=\"column\">\n        <TextField required id=\"outlined-required\" label=\"Name\" name=\"name\" onChange={this.handleChange}/>\n        <TextField required id=\"outlined-required\" label=\"E-Mail\" type=\"email\" name=\"email\" onChange={this.handleChange}/>\n        <TextField id=\"outlined-password-input\" label=\"Password\" type=\"password\" name=\"password\" onChange={this.handleChange}/>\n        <TextField id=\"outlined-password-input\" label=\"Confirm Password\" type=\"password\" name=\"confirmPassword\" onChange={this.handleChange}/>\n        <Button variant=\"contained\" size=\"small\" onClick={this.handleSubmit} >Register</Button>\n        {this.state.alert && <Alert severity={this.state.alert}>{this.state.error}</Alert>}\n    </Stack>);\n    }\n}\n"],"mappings":";AAAA,SAASA,SAAS,QAAQ,OAAO;AACjC,SAAQC,SAAS,EAAEC,MAAM,EAAEC,KAAK,EAAEC,KAAK,QAAO,eAAe;AAAC;AAG9D,eAAe,MAAMC,YAAY,SAASL,SAAS,CAAC;EAChDM,WAAW,GAAG;IACV,KAAK,EAAE;IACP,IAAI,CAACC,KAAK,GAAG;MAACC,IAAI,EAAE,CAAC,CAAC;MAAEC,WAAW,EAAC;IAAE,CAAC;IAEvC,IAAI,CAACC,YAAY,GAAG,IAAI,CAACA,YAAY,CAACC,IAAI,CAAC,IAAI,CAAC;IAChD,IAAI,CAACC,YAAY,GAAG,IAAI,CAACA,YAAY,CAACD,IAAI,CAAC,IAAI,CAAC;EACpD;EAEAD,YAAY,CAACG,CAAC,EAAE;IACZ,IAAI,CAACC,QAAQ,CAAC;MAACN,IAAI,EAAE;QACjB,CAACK,CAAC,CAACE,MAAM,CAACC,IAAI,GAAGH,CAAC,CAACE,MAAM,CAACE;MAC9B;IAAC,CAAC,EAEE,MAAMC,OAAO,CAACC,GAAG,CAAC,IAAI,CAACZ,KAAK,CAAC,CAChC;EACL;EAEA,MAAMK,YAAY,CAACQ,GAAG,EAAE;IACpBA,GAAG,CAACC,cAAc,EAAE;IAEpB,IAAI,CAACP,QAAQ,CAAC;MAACN,IAAI,EAAE;QACjBc,KAAK,EAAE;MACX;IAAC,CAAC,CACG;IAEL,MAAM;MAAEN,IAAI;MAAEO,KAAK;MAAEC,QAAQ;MAAEC;IAAgB,CAAC,GAAG,IAAI,CAAClB,KAAK;IAC7D,IAAIS,IAAI,IAAIO,KAAK,IAAIC,QAAQ,IAAIC,eAAe,EAAE;MAC9C,IAAI,IAAI,CAAClB,KAAK,CAACiB,QAAQ,KAAK,IAAI,CAACjB,KAAK,CAACkB,eAAe,EAAE;QACpD,MAAMC,IAAI,GAAG;UACTV,IAAI,EAAEA,IAAI;UACVO,KAAK,EAAEA,KAAK;UACZC,QAAQ,EAAEA;QACd,CAAC;QACD,MAAMG,QAAQ,GAAGC,IAAI,CAACC,SAAS,CAACH,IAAI,CAAC;QACrC,MAAMI,QAAQ,GAAG,MAAMC,KAAK,CAAC,eAAe,EAAE;UAC1CC,MAAM,EAAE,MAAM;UACdN,IAAI,EAAEC,QAAQ;UACdM,OAAO,EAAE;YACL,cAAc,EAAE;UACpB;QACJ,CAAC,CAAC;QAEF,MAAMC,QAAQ,GAAG,MAAMJ,QAAQ,CAACK,IAAI,EAAE;QACtC,IAAID,QAAQ,CAACE,OAAO,KAAK,IAAI,EAAE;UAE1B;UACAC,QAAQ,CAACC,MAAM,EAAE;UACjB;QACL,CAAC,MAAM,IAAIJ,QAAQ,CAACK,KAAK,KAAK,OAAO,EAAE;UACnC,IAAI,CAACzB,QAAQ,CAAC;YAACN,IAAI,EAAC;cAChB+B,KAAK,EAAE,wCAAwC;cAC/CjB,KAAK,EAAE;YACX;UAAC,CAAC,CAAC;UACH;QACJ,CAAC,MAAM,IAAIY,QAAQ,CAACK,KAAK,KAAK,QAAQ,EAAE;UACpC,IAAI,CAACzB,QAAQ,CAAC;YACVyB,KAAK,EAAE,6CAA6C;YACpDjB,KAAK,EAAE;UACX,CAAC,CAAC;UACF;QACJ,CAAC,MAAM;UACH,IAAI,CAACR,QAAQ,CAAC;YACVyB,KAAK,EAAE,6CAA6C;YACpDjB,KAAK,EAAE;UACX,CAAC,CAAC;UACF;QACJ;MACJ,CAAC,MAAM;QACHJ,OAAO,CAACC,GAAG,CAAC,oBAAoB,CAAC;QACjC,IAAI,CAACL,QAAQ,CACT;UACIyB,KAAK,EAAE,4BAA4B;UACnCjB,KAAK,EAAC;QACV;QACA;QAAA,CACH;MACL;IACJ,CAAC,MAAM;MACHJ,OAAO,CAACC,GAAG,CAAC,eAAe,CAAC;MAC5B,IAAI,CAACL,QAAQ,CACT;QACIyB,KAAK,EAAE,uDAAuD;QAC9DjB,KAAK,EAAE;MACX;MACA;MAAA,CACH;IACL;EAER;;EAEIkB,MAAM,GAAG;IACL,oBAAU,QAAC,KAAK;MAAC,OAAO,EAAE,CAAE;MAAC,SAAS,EAAC,QAAQ;MAAA,wBAC/C,QAAC,SAAS;QAAC,QAAQ;QAAC,EAAE,EAAC,mBAAmB;QAAC,KAAK,EAAC,MAAM;QAAC,IAAI,EAAC,MAAM;QAAC,QAAQ,EAAE,IAAI,CAAC9B;MAAa;QAAA;QAAA;QAAA;MAAA,QAAE,eAClG,QAAC,SAAS;QAAC,QAAQ;QAAC,EAAE,EAAC,mBAAmB;QAAC,KAAK,EAAC,QAAQ;QAAC,IAAI,EAAC,OAAO;QAAC,IAAI,EAAC,OAAO;QAAC,QAAQ,EAAE,IAAI,CAACA;MAAa;QAAA;QAAA;QAAA;MAAA,QAAE,eAClH,QAAC,SAAS;QAAC,EAAE,EAAC,yBAAyB;QAAC,KAAK,EAAC,UAAU;QAAC,IAAI,EAAC,UAAU;QAAC,IAAI,EAAC,UAAU;QAAC,QAAQ,EAAE,IAAI,CAACA;MAAa;QAAA;QAAA;QAAA;MAAA,QAAE,eACvH,QAAC,SAAS;QAAC,EAAE,EAAC,yBAAyB;QAAC,KAAK,EAAC,kBAAkB;QAAC,IAAI,EAAC,UAAU;QAAC,IAAI,EAAC,iBAAiB;QAAC,QAAQ,EAAE,IAAI,CAACA;MAAa;QAAA;QAAA;QAAA;MAAA,QAAE,eACtI,QAAC,MAAM;QAAC,OAAO,EAAC,WAAW;QAAC,IAAI,EAAC,OAAO;QAAC,OAAO,EAAE,IAAI,CAACE,YAAa;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAAmB,EACtF,IAAI,CAACL,KAAK,CAACe,KAAK,iBAAI,QAAC,KAAK;QAAC,QAAQ,EAAE,IAAI,CAACf,KAAK,CAACe,KAAM;QAAA,UAAE,IAAI,CAACf,KAAK,CAACgC;MAAK;QAAA;QAAA;QAAA;MAAA,QAAS;IAAA;MAAA;MAAA;MAAA;IAAA,QAC9E;EACR;AACJ"},"metadata":{},"sourceType":"module"}